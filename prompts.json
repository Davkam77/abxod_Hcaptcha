{
  "question_extraction": "Это панель с текстом задания и примером в визуальной головоломке (обычно сверху: текст слева, пример-картинка справа). Твоя задача — ПРОЧИТАТЬ текст задания, ПРОИНТЕРПРЕТИРОВАТЬ его смысл и привязать его к примеру на картинке.\n\nНужно аккуратно извлечь из задания следующую структуру и вернуть СТРОГО один JSON-объект без лишнего текста:\n{\n  \"task_text\": \"<исходный текст задания одной строкой, без переносов и лишних пробелов>\",\n  \"selection_criteria\": \"<кратко и по делу опиши, каких существ/объекты нужно выбирать из сетки>\",\n  \"positive_keywords\": [\"...\"],\n  \"negative_keywords\": [\"...\"],\n  \"example_container\": \"<как называется предмет в примере (1–3 слова, существительное в И.п.)>\",\n  \"example_container_for_creature\": \"<для каких существ этот предмет служит домом или укрытием (например: \\\"маленькие птицы\\\", \\\"белки\\\", \\\"мыши\\\")>\",\n  \"target_creature_category\": \"<bird / mammal / insect / fish / reptile / vehicle / clothing / container / any / unknown>\",\n  \"exclude_creature_category\": \"<если в тексте ЯВНО сказано, кого не выбирать (например, кроме собак) — укажи их категорию; иначе пустая строка>\"\n}\n\nТребования к полям:\n- \"task_text\" должен максимально точно воспроизводить исходный текст (на одном языке, без перевода). Убери только переводы строк и лишние пробелы по краям.\n- \"selection_criteria\" — краткое, но однозначное описание, кого/что нужно выбирать. Пиши на том же языке, что и текст задания.\n- \"positive_keywords\" — массив из 3–10 ключевых слов/фраз (существительные, устойчивые словосочетания) из задания, по которым удобно искать нужные объекты (например: \"птица\", \"скворечник\", \"домик\", \"укрытие\"). Не придумывай новые термины, используй то, что есть в тексте, максимум чуть обобщай (например, из \"домик для птиц\" можно сделать ключ \"домик\" и \"птица\").\n- \"negative_keywords\" — массив слов/фраз, которые явно запрещены или явно описывают тех, кого выбирать не нужно. Если таких нет — верни пустой массив.\n- \"example_container\" — название именно ПРЕДМЕТА из примера (скворечник, дупло, домик, нора и т.п.), а НЕ существа.\n- \"example_container_for_creature\" — для каких существ этот предмет типично служит домом или укрытием (например, скворечник — для маленьких птиц, нора — для мышей и т.п.). Если из задания совсем не ясно, напиши пустую строку.\n- \"target_creature_category\" — выбери ОДНУ категорию, которая лучше всего описывает целевые существа/объекты в задании. Если речь про птиц — bird; про собак/кошек и т.п. — mammal; если ничего однозначного — unknown.\n- \"exclude_creature_category\" — заполняй только если в тексте есть явное исключение по типу существа (например: \"кроме насекомых\" — тогда insect). Если нет явного исключения — пустая строка.\n\nВажно:\n- Не добавляй в ответ ничего, кроме одного корректного JSON-объекта.\n- Не пиши пояснений, комментариев, текста до или после JSON.\n- Ответ должен быть строго валидным JSON: все строки в двойных кавычках, все внутренние кавычки экранированы, без лишних запятых в конце списков и объектов.",

  "grid_tile_label": "На входе — ОДНА картинка-тайл из сетки (обычно 3×3). Нужно кратко подписать, что на ней изображено.\n\nВерни строго JSON:\n{\"label\":\"<слово>\", \"conf\": <0..1>}\n\nПравила для поля \"label\":\n- Используй одно или два СЛОВА, существительное в И.п., по возможности в единственном числе: \"птица\", \"кошка\", \"собака\", \"дом\", \"машина\".\n- Если изображена группа одинаковых существ (несколько кошек, несколько птиц, несколько щенков) — всё равно используй обобщённое ОДНО существительное в единственном числе: \"кошка\", \"птица\", \"щенок\".\n- Если в кадре несколько объектов, но один явно главный (например, птица на фоне дерева, кот на диване) — подпиши по главному объекту: \"птица\", \"кот\".\n- Не добавляй прилагательных и деталей, кроме случаев, когда без них теряется смысл (например, \"пожарная машина\" логичнее, чем просто \"машина\", если явно видно пожарную).\n- Не используй местоимения, глаголы и абстрактные описания типа \"животное\", если можно назвать конкретный вид.\n- Если вообще не уверен, что на картинке, оставь label:\"\" и выставь conf:0.\n\nПравила для поля \"conf\":\n- Число от 0 до 1 (тип float).\n- 0.9–1.0 — почти полная уверенность в том, кто/что на картинке.\n- 0.6–0.89 — умеренная уверенность, возможны ошибки, но основной объект понятен.\n- 0.3–0.59 — слабая уверенность, картинка размыта или объект неоднозначен.\n- Ниже 0.3 — используй только если картинка совсем непонятна.\n\nВажно:\n- Не добавляй никаких других полей.\n- Не пиши пояснений, комментариев или текста вокруг JSON.\n- Ответ всегда один корректный JSON-объект в одну строку.",

  "analysis_reasoning_header": "Визуальная головоломка: сверху есть текст задания и пример (panel), ниже — сетка картинок (тайлы). Для КАЖДОГО тайла уже есть краткая подпись label (существо/объект). Нужно проанализировать текст задания, пример и labels, а затем выбрать ВСЕ тайлы, которые удовлетворяют условию.\n\nРазметка сетки и индексов:\n- Размер сетки 3×3.\n- Индексация слева направо, сверху вниз.\n- Верхний ряд: index 0, 1, 2.\n- Средний ряд: index 3, 4, 5.\n- Нижний ряд: index 6, 7, 8.\n\nОсобенности заданий с укрытием/домиком (как на примере со скворечником):\n- Если в примере показан небольшой домик/скворечник/дупло/коробка или другой маленький контейнер, который крепится к дереву или стоит где-то, НЕ выбирай крупных животных, которые физически не поместятся внутрь (кошки, собаки нормального размера, крупные щенки, крупные котята, лисы и т.п.).\n- Выбирай только тех существ, для которых такой домик реалистично может быть домом или укрытием: маленькие птицы, мелкие грызуны и т.п., опираясь на здравый смысл.\n- Если несколько тайлов содержат один и тот же тип подходящих существ (например, разные картинки с маленькими птицами), выбираться должны ВСЕ такие тайлы.\n- Если тип существа пограничный и есть сомнения, что оно помещается в домик — лучше НЕ выбирать такой тайл (консервативный выбор важнее).\n\nОбщая логика выбора:\n- Ориентируйся на \"selection_criteria\" и прочитанное задание: в первую очередь смотри, что именно просят выбрать (вид существа, поведение, отношение к домику и т.п.).\n- Используй информацию из labels как подсказку, но при конфликте верь изображению, а не label.\n- Если объект явно не соответствует условию (не тот вид существа, не тот тип объекта, слишком крупный размер для домика и т.п.) — не добавляй его индекс.\n- Если условие звучит как \"выберите всех существ, которые могут укрыться в таком домике\" (как на картинке со скворечником), выбирай только маленьких птиц и, при здравом смысле, других мелких существ сопоставимого размера.\n\nТребуемый формат ответа:\n{\n  \"indexes\": [<int>, ...],\n  \"reason\": \"<краткое объяснение выбора на естественном языке>\"\n}\n\nПравила для ответа:\n- В \"indexes\" перечисли только те индексы тайлов, которые по смыслу подходят под \"selection_criteria\" и пример.\n- Индексы идут без повторов, порядок не важен.\n- В \"reason\" коротко поясни логику: например, \"выбраны только маленькие птицы, которые могут жить в скворечнике; кошки и собаки исключены как слишком крупные\".\n- Не добавляй других полей, кроме \"indexes\" и \"reason\".\n- Не пиши ничего до или после JSON.\n- Ответ должен быть строго валидным JSON-объектом."
}
